"use strict";var iqwerty=iqwerty||{};iqwerty.toast=function(){function t(o,r){if(null!==e())t.prototype.toastQueue.push({text:o,options:r});else{var i=r||{};i=t.prototype.mergeOptions(t.prototype.DEFAULT_SETTINGS,i),t.prototype.show(o,i),i=null}}function e(){return r}function o(t){r=t}var r=null;return t.prototype.TOAST_ANIMATION_SPEED=400,t.prototype.CLASS_TOAST_GONE="iqwerty_toast_gone",t.prototype.CLASS_TOAST_VISIBLE="iqwerty_toast_visible",t.prototype.CLASS_TOAST_ANIMATED="iqwerty_toast_animated",t.prototype.DEFAULT_SETTINGS={style:{main:{background:"rgba(0, 0, 0, .85)","box-shadow":"0 0 10px rgba(0, 0, 0, .8)","border-radius":"3px","z-index":"99999",color:"rgba(255, 255, 255, .9)",padding:"10px 15px","max-width":"40%","word-break":"keep-all",margin:"0 auto","text-align":"center",position:"fixed",left:"0",right:"0"}},settings:{duration:4e3}},t.prototype.styleExists=!1,t.prototype.toastQueue=[],t.prototype.timeout=null,t.prototype.mergeOptions=function(e,o){var r=o;for(var i in e)r.hasOwnProperty(i)?null!==e[i]&&e[i].constructor===Object&&(r[i]=t.prototype.mergeOptions(e[i],r[i])):r[i]=e[i];return r},t.prototype.initializeStyles=function(){if(!t.prototype.styleExists){var e=document.createElement("style");e.insertAdjacentHTML("beforeend",t.prototype.generateInlineStylesheetRules(this.CLASS_TOAST_GONE,{opacity:"0",bottom:"-10%"})+t.prototype.generateInlineStylesheetRules(this.CLASS_TOAST_VISIBLE,{opacity:"1",bottom:"10%"})+t.prototype.generateInlineStylesheetRules(this.CLASS_TOAST_ANIMATED,{transition:"opacity "+this.TOAST_ANIMATION_SPEED+"ms, bottom "+this.TOAST_ANIMATION_SPEED+"ms"})),document.head.appendChild(e),e=null,t.prototype.styleExists=!0}},t.prototype.generate=function(r,i){var n=document.createElement("div");"string"==typeof r&&(r=document.createTextNode(r)),n.appendChild(r),o(n),n=null,t.prototype.stylize(e(),i)},t.prototype.stylize=function(t,e){Object.keys(e).forEach(function(o){t.style[o]=e[o]})},t.prototype.generateInlineStylesheetRules=function(t,e){var o="."+t+"{";return Object.keys(e).forEach(function(t){o+=t+":"+e[t]+";"}),o+="}"},t.prototype.show=function(o,r){this.initializeStyles(),this.generate(o,r.style.main);var i=e();i.classList.add(this.CLASS_TOAST_ANIMATED),i.classList.add(this.CLASS_TOAST_GONE),document.body.insertBefore(i,document.body.firstChild),i.offsetHeight,i.classList.remove(this.CLASS_TOAST_GONE),i.classList.add(this.CLASS_TOAST_VISIBLE);var i=null;clearTimeout(t.prototype.timeout),t.prototype.timeout=setTimeout(t.prototype.hide,r.settings.duration)},t.prototype.hide=function(){var o=e();o.classList.remove(t.prototype.CLASS_TOAST_VISIBLE),o.classList.add(t.prototype.CLASS_TOAST_GONE),o=null,clearTimeout(t.prototype.timeout),t.prototype.timeout=setTimeout(t.prototype.destroy,t.prototype.TOAST_ANIMATION_SPEED)},t.prototype.destroy=function(){var r=e();if(document.body.removeChild(r),r=null,o(null),t.prototype.toastQueue.length>0){var i=t.prototype.toastQueue.shift();t(i.text,i.options),i=null}},{Toast:t}}();